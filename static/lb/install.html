 <html>
<head>
<title>LiteSpeed Load Balancer User's Manual - Installation</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="css/hdoc.css">
</head>
<body bgcolor="#FFFFFF" class="ct">
<table class="nav-bar" width="100%" border="0">
  <tr> 
    <td width="30%" align="left">&#171 <a href="intro.html">Introduction</a></td>
    <td width="40%" align="center"><a href="index.html">INDEX</a></td>
    <td width="30%" align="right"><a href="admin.html">Administration</a> &#187;</td>
  </tr>
</table>
<br>
<div class="label-title">Installation/Uninstallation</div>
<br>
<br>
<div class="label2">Minimum system requirements</div>
<ul>
  <li><span class="label1">Operating System:</span><br>
    &nbsp;&nbsp;&nbsp;Linux(i386): kernel 2.4 and above, glibc-2.2 and above<br>
    &nbsp;&nbsp;&nbsp;Solaris(Sparc): SunOS 5.8 and above<br>
    &nbsp;&nbsp;&nbsp;Solaris(x86): Sun0S 5.8 and above<br>
    &nbsp;&nbsp;&nbsp;FreeBSD(i386): 4.5 and above<br>
    &nbsp;&nbsp;&nbsp;MacOSX(Powerpc): 10.3 and above<br>
    &nbsp;&nbsp;&nbsp;MacOSX(Intel): 10.4 and above<br>
    &nbsp;&nbsp;&nbsp;Open Darwin: 7.0 and above<br>
    <br>
  </li>
  <li><span class="label1">CPU:</span><br>
    &nbsp;&nbsp;&nbsp;Intel: 80486 and above<br>
    &nbsp;&nbsp;&nbsp;Sun: UltraSPARC and above<br>
    &nbsp;&nbsp;&nbsp;PowerPC: PowerPC G4<br>
    <br>
  </li>
  <li><span class="label1">Memory:</span><br>
    &nbsp;&nbsp;&nbsp;32MB and above<br>
    <br>
  </li>
  <li><span class="label1">Disk:</span><br>
    &nbsp;&nbsp;&nbsp;Installation: 10MB<br>
    &nbsp;&nbsp;&nbsp;Runtime: 20MB and above, swapping space depends on usage 
    <br>
  </li>
</ul>
<br>
<div class="label2">Installation Steps</div>
<p>Installation must be performed in a command 
  line terminal. For testing purpose, LiteSpeed Load Balancer can be installed into 
  your home directory as a non-privileged user. For production use, it should 
  be installed into a system directory. Under Mac OS X, root 
  user is disabled by default; it can be enabled by using the <span class="val">NetInfo 
  Manager</span> Application in <span class="val">/Applications/Utilities</span> 
  folder. If you don't want to enable root user, you can use "sudo" to install 
  LiteSpeed Load Balancer into a system directory as well.</p>
<ol>
  <li> decompress the package into a convenient location:<br>
    <span class="cmd">tar xvfz lslb-xxxx.tar.gz</span> or <span class="cmd">gunzip 
    -c lslb-xxxx.tar.gz | tar xvf -</span> <br>
    <br>
  </li>
  <li>Install license key 
    or serial number. 
    <ul>
      <li> Install trial license. Trial license is for evaluation purpose and 
        is only good for around 30 days. It will be sent to you in the confirmation 
        email if you request to evaluate our product. Please copy <span class="val">trial.key</span> 
        to the installation directory. <br>
        If you are switching from a trial license to a formal license, please 
        follow the steps below to get your permanent license key and run Installer 
        again to update your license. </li>
      <br>
      <li> Our production licensing procedure is:<br>
        <ol>
          <li> Each production license is assigned with one serial number.</li>
          <li> The serial number(s) will be sent to you as attachment in the confirmation 
            email after you order has been successfully processed. </li>
          <li> A license key request should be generated by the Installer based 
            on the serial number and your server's hardware signatures. </li>
          <li> After we receive the request, a permanent production license key 
            will be assigned and sent to you.</li>
        </ol>
        <br>
        Please be aware that the license key is associated with the serial number 
        and the server's hardware signature. A new key is required if changes 
        of hardware signature is detected. We will update your license key for a 
        small license migration fee.<br>
        For users without the production license key, the serial number (named 
        as <span class="val">serial.no</span>) should be copied to the installation 
        directory before starting the Installer.<br>
        If the production license key is available, please also copy it (should 
        be named as <span class="val">license.key</span>) to the installation 
        directory. </li>
    </ul>
  </li>
  <br>
  <li> Go to the installation directory <span class="cmd">cd lslb-xxxx</span> 
    and run command <span class="cmd">./install.sh</span> <br>
    "root" user can install the server into a system directory; non-root user 
    should install it to somewhere under his home directory. <br>
    Mac OS X user can install the server into a system directory with command 
		<span class="cmd">sudo ./install.sh</span>
  </li>
  <br>
  <li> Read the End User License Agreement and type "Yes" to confirm your agreement.<br>
    <br>
  </li>
  <li> Generate license request.<br>
    If the Installer only finds serial number but no valid license key, it will 
    prompt to generate a license request. The installer will exit after generating 
    the request.<br>
    The generated request <span class="val">lic_req.bin</span> should be e-mailed 
    to <a href="mailto:register@litespeedtech.com">register@litespeedtech.com</a>. 
    A new license key will be sent back to you in email shortly after we receive 
    you request, please save it to the installation directory and run the Installer 
    again.<br>
    <br>
    Note: Installation will continue only if there is a valid/trial license. </li>
  <br>
  <br>
  <li>Follow the instructions on the screen.<br>
    The following questions will be asked: <br>
    <ol>
      <li> User and group that the server process run on behalf of.</li>
      <li> Destination directory where the server should be installed. </li>
      <li> If an installed copy exists, choose either Update or Reinstall. <br>
        Update will keep your current configuration.</li>
      <li> Administrator's user name and password for the administration web interface.</li>
      <li> TCP port for normal web service.</li>
      <li> TCP port for web administration interface. </li>
      <li> "root" user has 
        option to enable "chroot". The installer will setup the initial chroot 
        environment automatically. We strongly recommend not enabling
        it unless you are familiar with "chroot". You can always enable it later 
        with an upgrade installation. 
    </ol>
    "root" user can also choose to run LiteSpeed Load Balancer as a service which 
    starts automatically at system startup. <br>
    Server can be started by the installer once it is installed successfully.<br>
  </li>
  <br>
</ol>
<div class="label2">Testing Installation</div>
<ol>
  <li> There are a couple of ways to control the server process. For detail information 
    please see <a href="admin.html">Administration Guide</a>. To start the server, 
    simply run <span class="cmd">[your_install_dir]/bin/lslbctrl start</span>.<br>
  </li>
  <br>
  <li> If the default port for normal web service was not changed during installation, 
    point your browser to <span class="val">http://[address]:8090/</span>, otherwise 
    replace "8090" with actual port used. "[address]" should be the IP address 
    or domain name of Load Balancer machine. Use "localhost" if it is accessed from 
    the same machine. Load Balancer will try to route request to a default LiteSpeed Web Server installation on localhost, port 8088, if it does not work, try next step.<br>
  </li>
  <br>
  <li> If the default port for web administration interface is not changed during 
    installation, point your browser to <span class="val">http://[address]:7090/</span>, 
    otherwise replace "7090" with actual port used. "[Address]" should be the 
    IP address or domain name of your load balancer machine. Use "localhost" if it 
    is accessed from the same machine.<br>
    The welcome page of administration interface should be loaded, click "Log 
    on" link and use the administrator's user name and password specified during 
    installation to log on. For detailed information regarding configuration, 
    please refer to our <a href="config.html">Configuration Guide</a>, or click 
    "help" link on top of each page. <br>
  </li>
  <br>
  <li> If your server uses firewall, please make sure that localhost is trusted. 
    For instance, Linux with IPTables should include a rule <span class="cmd">ALLOW 
    INPUT from LO</span>.<br>
    <br>
  </li>
  <li> If the web administration interface is inaccessible either, please take 
    a look at the error log - <span class="cmd">[your_install_dir]/logs/error.log 
    </span><br>
    <ul>
      <li> If it is because of TCP port confliction with other server applications, 
        the load balancer should be reinstalled with an available port.<br>
        The following command can be used to find an available port:<br>
        <span class="cmd">netstat -an | grep XXXX</span><br>
        XXXX is the port number. If the port is available, no output should be 
        produced.<br>
        <br>
      </li>
      <li> If it is because swapping directory is not writable, you can either 
        grant write permission of swapping directory to the user whom the web 
        server running as, or change the swapping directory manually.<br>
        The swapping directory is configured in the server's XML configuration 
        file located at <span class="cmd">[your_install_dir]/conf/lslbd_config.xml</span>, 
        default value is <span class="cmd">/tmp/lslbd/swap</span>. Search for 
        <span class="cmd">&lt;swappingDir&gt;</span>.<br>
      </li>
    </ul>
  </li>
</ol>
If you still have problem with installation, please read the up to date <a href="http://www.litespeedtech.com/docs/trouble.html">Trouble 
Shooting</a> first. Post your problem on our support <a href="http://www.litespeedtech.com/forum/">Forum</a> 
if you cannot find an answer. <br>
<br>

<div class="label2">Upgrade</div>
<p>There are a few scenarios that you need to update the server software or license.</p>
<ul>
<li>A new release is available</li>
<li>Upgrade from a trial license to production license</li>
<li>Upgrade production license from N CPU to M CPU license.</li>
</ul>
<p>
To upgrade to another release, just run install.sh again and select 'upgrade', your current configuration will be kept.<br>
The built-in update agent will check new release periodically and automatically download new package and send email notification about the new release. Server upgrade can be performed via the web admin interface by clicking the upgrade link in the version management page. <br><br>

For license upgrade, you can manually copy "serial.no" and "license.key" to <span class="cmd">[your_install_dir]/conf/</span> directory then restart, it is recommended to backup your old license key first.

</p>

<div class="label2">Version Management</div>
<ul>
  <li>Multiple versions of LiteSpeed Load Balancer can be installed 
    and easily switched from one to another by using the version management utility 
    provided <span class="cmd">[your_install_dir]/admin/misc/mgr_ver.sh</span>. 
    <ul>
      <li>To switch to version A, for example 1.0, just run <span class="cmd">[your_install_dir_current_version]/admin/misc/mgr_ver.sh 
        1.0</span></li>
      <li>To remove previous installed files for version A, for example 1.0, 
        just run <span class="cmd">[your_install_dir_current_version]/admin/misc/mgr_ver.sh 
        -d 1.0</span> </li>
    </ul>
  </li>
  <li>Version management is also available from WebAdmin interface 
    under "Service Manager - Server - Version Management". It will list all the 
    installed versions and available new releases. You can install new release 
    or switch between different versions by just a click. </li>
</ul>
<div class="label2">Uninstallation Steps</div>
<ol>
  <li>Simply run <span class="cmd">[your_install_dir]/admin/misc/uninstall.sh</span> 
    and follow the instructions on the screen.<br>
    <br>
  </li>
  <li>The following questions will be asked: 
    <ul>
      <li>whether to keep the log directory</li>
      <li>whether to keep the configuration directory</li>
    </ul>
    <br>
  </li>
  <li>All the directories that are not created by the Installer will not be touched, 
    even they are under [your_install_dir]. But all the files created by the Installer 
    will be removed.<br>
    <br>
  </li>
  <li>[your_install_dir] will be removed as well if it is empty. </li>
</ol>
<table class="nav-bar" width="100%" border="0">
  <tr> 
    <td width="30%" align="left">&#171 <a href="intro.html">Introduction</a></td>
    <td width="40%" align="center"><a href="index.html">INDEX</a></td>
    <td width="30%" align="right"><a href="admin.html">Administration</a> &#187;</td>
  </tr>
</table>
<br>
<br>
<div class="copyright">Copyright &copy; 2007-2011. <a href="http://www.litespeedtech.com">Lite 
  Speed Technologies Inc.</a><br>
  All rights reserved.</div>
</body>
</html>

